:root {
	--flatpickr: var(--accent-pri, #e91e63);
	--flatpickr-font: var(--accent-pri-font, #fff);
}

[flatpickr-hidden-input] {
	opacity: 0;
	pointer-events: none;
	position: absolute;
	width: 100%;
}

// ================================================== COLOR OVERWRITES ==================================================

.flatpickr-day:is(.selected, .startRange, .endRange, .selected.inRange, .startRange.inRange, .endRange.inRange, .selected:focus, .startRange:focus, .endRange:focus, .selected:hover, .startRange:hover, .endRange:hover, .selected.prevMonthDay, .startRange.prevMonthDay, .endRange.prevMonthDay, .selected.nextMonthDay, .startRange.nextMonthDay, .endRange.nextMonthDay) {
	background: var(--flatpickr);
	border-color: var(--flatpickr);
	color: var(--flatpickr-font);
}

.flatpickr-day:is(.selected, .startRange, .endRange).selected.startRange + .endRange:not(:nth-child(7n + 1)) {
	box-shadow: -10px 0 0 var(--flatpickr);
}

.flatpickr-day.week.selected {
	border-radius: 0;
	box-shadow: -5px 0 0 var(--flatpickr, #e91e63), 5px 0 0 var(--flatpickr);
}

// ================================================== GLOBAL CHANGES ==================================================

.flatpickr-calendar {
	border-radius: min(var(--border-radius, 4px), 10px);
	margin-top: 0.75rem;
	background-color: var(--bg-light, #fff);
	color: var(--font-dark, #000);
	box-shadow: unset;
	padding: 7px;
	width: 100%;
	max-width: 280px;
	box-shadow: 0px 0px 15px -3px rgba(0, 0, 0, 0.1), 0px 0px 39px 3px rgba(0, 0, 0, 0.1);

	&.hasTime.noCalendar {
		max-width: 180px;
	}

	.numInputWrapper {
		span {
			opacity: 1;
			border: 0;
			width: 20px;
			padding: 0 6px;
		}

		.arrowUp {
			top: auto;
			bottom: 0;

			&::after {
				top: 25%;
				border: unset;
				border-left: 4px solid transparent;
				border-right: 4px solid transparent;
				border-top: 4px solid rgba(57, 57, 57, 0.6);
			}
		}

		.arrowDown {
			top: 0;
			bottom: auto;

			&::after {
				top: 50%;
				border: unset;
				border-left: 4px solid transparent;
				border-right: 4px solid transparent;
				border-bottom: 4px solid rgba(57, 57, 57, 0.6);
			}
		}

		.flatpickr-hour {
			+ span,
			+ span + span {
				left: 0;
				right: auto;
			}
		}
	}

	.flatpickr-time {
		border: unset !important;

		.numInputWrapper {
			border: 1px solid #e6e6e6;
			&:first-of-type {
				border-right: unset;
			}

			&:last-of-type {
				border-left: unset;
			}
		}

		.flatpickr-time-separator {
			border-top: 1px solid #e6e6e6;
			border-bottom: 1px solid #e6e6e6;
		}
	}

	* {
		border-radius: min(var(--border-radius, 4px), 10px);
		transition: color var(--atime, 0.4s) ease, background var(--atime, 0.4s) ease, border-color var(--atime, 0.4s) ease;
	}

	&::after {
		border-width: 8px;
	}

	.flatpickr-month {
		height: fit-content;
	}

	.flatpickr-current-month {
		height: fit-content;
		padding-top: 0;
		position: relative;
		display: flex;
		flex-direction: row;
		flex-wrap: wrap;
		font-size: 16px;
		gap: 0.5rem;

		> select {
			width: 60%;
		}

		> .numInputWrapper {
			width: calc(40% - 0.5rem);
		}
	}

	.dayContainer {
		gap: 2px;
		justify-content: flex-start;
	}
}

:is(.flatpickr-innerContainer, .flatpickr-rContainer, .flatpickr-day, .dayContainer, .flatpickr-days) {
	width: 100%;
	max-width: unset;
	min-width: unset;
}

.flatpickr-months .flatpickr-prev-month,
.flatpickr-months .flatpickr-next-month {
	padding: 10px;

	&:hover svg {
		fill: rgba(0, 0, 0, 0.9);
	}

	&:not(.flatpickr-disabled):hover svg {
		fill: var(--flatpickr);
	}

	&.flatpickr-disabled {
		display: initial;
		opacity: 0.4;
	}
}

.flatpickr-day {
	max-width: unset;
	height: auto;
	aspect-ratio: 1;
	flex-basis: calc(14.2857143% - 2px);
	line-height: unset;
	display: flex;
	justify-content: center;
	align-items: center;

	&:is(.inRange, .prevMonthDay.inRange, .nextMonthDay.inRange, .today.inRange, .prevMonthDay.today.inRange, .nextMonthDay.today.inRange, :hover, .prevMonthDay:hover, .nextMonthDay:hover, :focus, .prevMonthDay:focus, .nextMonthDay:focus):not(.flatpickr-disabled, .selected, .today) {
		border-color: var(--flatpickr);
		background-color: var(--bg-light, #fff);
	}

	&.today {
		&,
		&:hover {
			border: 1px solid currentColor;
			color: #393939;

			&:not(.selected) {
				background-color: var(--bg-light, #fff);
			}

			&.selected {
				border-color: var(--flatpickr-font);
			}
		}

		&:hover:not(.selected, .flatpickr-disabled) {
			border-color: var(--flatpickr);
		}

		&.flatpickr-disabled,
		&.flatpickr-disabled:hover {
			color: rgba(57, 57, 57, 0.1);
		}
	}

	&.nextMonthDay:nth-last-of-type(-n + 7) {
		display: none;
	}
}
