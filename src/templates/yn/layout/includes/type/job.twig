<script type="application/ld+json">
    {
        "@context": "https://schema.org/",
        "@type": "JobPosting",
        {% if _yn_schema.title %}
            "title": "{{_yn_schema.title|raw}}",
        {% endif %}
        {% if _yn_schema.description %}
            "description": "{{_yn_schema.description|raw}}",
        {% endif %}
        {% if _yn_schema.company or _yn_schema.companyUrl or _yn_schema.companyLogo %}
            "hiringOrganization" : {
                "@type": "Organization",
                {% if _yn_schema.company %}
                    "name": "{{_yn_schema.company|raw}}",
                {% endif %}
                {% if _yn_schema.companyUrl %}
                    "sameAs": "{{_yn_schema.companyUrl|raw}}",
                {% endif %}
                {% if _yn_schema.companyLogo %}
                    "logo": "{{_yn_schema.companyLogo[0].path}}"
                {% endif %}
            },
        {% endif %}
        {% if _yn_schema.industry %}
            "industry": "{{_yn_schema.industry|raw}}",
        {% endif %}
        {% if _yn_schema.employmentType %}
            "employmentType": "{{_yn_schema.employmentType|raw}}",
        {% endif %}
        {% if _yn_schema.workHours %}
            "workHours": "{{_yn_schema.workHours|raw}}",
        {% endif %}
        {% if _yn_schema.datePosted %}
            "datePosted": "{{_yn_schema.datePosted|date('Y-m-d')}}",
        {% endif %}
        {% if _yn_schema.dateExpire %}
            "validThrough": "{{_yn_schema.dateExpire|date('Y-m-d')}}",
        {% endif %}
        {% if _yn_schema.remoteJob %}
            "jobLocationType": "TELECOMMUTE",
            {% if _yn_schema.country %}
                "applicantLocationRequirements": {
                    "@type": "Country",
                    "name": "{{_yn_schema.country|raw}}",
                },
            {% endif %}
        {% elseif _yn_schema.street or _yn_schema.city or _yn_schema.zip or _yn_schema.country %}
            "jobLocation": {
                "@type": "Place",
                "address": {
                    "@type": "PostalAddress",
                    {% if _yn_schema.street %}
                        "streetAddress": "{{_yn_schema.street|raw}}",
                    {% endif %}
                    {% if _yn_schema.city %}
                        "addressLocality": "{{_yn_schema.city|raw}}",
                    {% endif %}
                    {% if _yn_schema.zip %}
                        "postalCode": "{{_yn_schema.zip|raw}}",
                    {% endif %}
                    {% if _yn_schema.country %}
                        "addressCountry": "{{_yn_schema.country|raw}}"
                    {% endif %}
                }
            },
        {% endif %}
        {% if _yn_schema.salaryCurrency or _yn_schema.salaryMin or _yn_schema.salaryMax or _yn_schema.salaryPer %}
            "baseSalary": {
                "@type": "MonetaryAmount",
                {% if _yn_schema.salaryCurrency %}
                    "currency": "{{_yn_schema.salaryCurrency|raw}}",
                {% endif %}
                "value": {
                "@type": "QuantitativeValue",
                {% if _yn_schema.salaryMin %}
                    {% if _yn_schema.salaryMax %}
                        "minValue": "{{_yn_schema.salaryMin|raw}}",
                    {% else %}
                        "value": "{{_yn_schema.salaryMin|raw}}",
                    {% endif %}
                {% endif %}
                {% if _yn_schema.salaryMax %}
                    "maxValue": "{{_yn_schema.salaryMax|raw}}",,
                {% endif %}
                {% if _yn_schema.salaryPer %}
                    "unitText": "{{_yn_schema.salaryPer|raw}}",
                {% endif %}
                }
            },
        {% endif %}
        {% if _yn_schema.responsibilities %}
            "responsibilities": "{{_yn_schema.responsibilities|raw}}",
        {% endif %}
        {% if _yn_schema.skills %}
            "skills": "{{_yn_schema.skills|raw}}",
        {% endif %}
        {% if _yn_schema.qualifications %}
            "qualifications": "{{_yn_schema.qualifications|raw}}",
        {% endif %}
        {% if _yn_schema.educationRequirements %}
            "educationRequirements": "{{_yn_schema.educationRequirements|raw}}",
        {% endif %}
        {% if _yn_schema.experienceRequirements %}
            "experienceRequirements": "{{_yn_schema.experienceRequirements|raw}}"
        {% endif %}
    }
</script>